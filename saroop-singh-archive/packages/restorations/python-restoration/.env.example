# =============================================================================
# Saroop Singh Archive - Image Restoration API Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Core Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
API_VERSION=v1
SERVICE_NAME=saroop-singh-restorations

# -----------------------------------------------------------------------------
# Gemini AI Configuration (Required)
# -----------------------------------------------------------------------------
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash-image-preview

# -----------------------------------------------------------------------------
# Airtable Integration (Required)
# -----------------------------------------------------------------------------
# Get from your Airtable account settings
AIRTABLE_BASE_ID=your_base_id_here
AIRTABLE_API_KEY=your_airtable_api_key_here

# Webhook security (generate a random string)
AIRTABLE_WEBHOOK_SECRET=your_webhook_secret_here

# -----------------------------------------------------------------------------
# Redis Queue Configuration (Required for production)
# -----------------------------------------------------------------------------
# For local development, use: redis://localhost:6379
# For production, use managed Redis service (Railway, Upstash, etc.)
REDIS_URL=redis://localhost:6379

# Queue settings
QUEUE_MAX_RETRIES=3
QUEUE_CLEANUP_INTERVAL=86400
QUEUE_PROCESSING_TIMEOUT=300

# -----------------------------------------------------------------------------
# Storage Backend Configuration (Choose one)
# -----------------------------------------------------------------------------
# Options: cloudinary, s3, local
STORAGE_BACKEND=cloudinary

# Cloudinary Configuration (Recommended)
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# AWS S3 Configuration (Alternative)
# S3_BUCKET_NAME=your-bucket-name
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key_id
# AWS_SECRET_ACCESS_KEY=your_secret_access_key

# Local Storage Configuration (Development only)
# LOCAL_STORAGE_PATH=/tmp/restorations

# -----------------------------------------------------------------------------
# API Rate Limiting & Performance
# -----------------------------------------------------------------------------
# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=100

# Max concurrent processing jobs
MAX_CONCURRENT_JOBS=5

# Request timeout in seconds
REQUEST_TIMEOUT=300

# Max file size for uploads (in MB)
MAX_FILE_SIZE_MB=50

# -----------------------------------------------------------------------------
# Monitoring & Logging
# -----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Sentry for error tracking (optional)
# SENTRY_DSN=your_sentry_dsn_here

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# JWT secret for API authentication (if implementing auth)
# JWT_SECRET=your_jwt_secret_here

# CORS origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# API keys for external access (comma-separated)
# API_KEYS=key1,key2,key3

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable/disable features
ENABLE_BATCH_PROCESSING=true
ENABLE_WEBHOOK_PROCESSING=true
ENABLE_PRIORITY_QUEUE=true
ENABLE_IMAGE_ANALYSIS=true

# Processing quality settings
DEFAULT_RESTORATION_TYPE=standard
MAX_IMAGE_RESOLUTION=2048

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Set to true for development
DEBUG_MODE=false

# Bypass authentication in development
DEV_SKIP_AUTH=false

# Mock external services for testing
MOCK_GEMINI_API=false
MOCK_AIRTABLE_API=false

# -----------------------------------------------------------------------------
# Backup & Maintenance
# -----------------------------------------------------------------------------
# Automatic cleanup of old jobs (days)
AUTO_CLEANUP_DAYS=7

# Backup interval for job data (hours)
BACKUP_INTERVAL_HOURS=24

# Maintenance window (UTC times)
MAINTENANCE_START_HOUR=2
MAINTENANCE_END_HOUR=4

# -----------------------------------------------------------------------------
# External Webhooks (Optional)
# -----------------------------------------------------------------------------
# Notify external systems when jobs complete
# COMPLETION_WEBHOOK_URL=https://your-app.com/webhook/restoration-complete
# COMPLETION_WEBHOOK_SECRET=your_completion_webhook_secret

# Slack notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
# SLACK_CHANNEL=#restorations

# -----------------------------------------------------------------------------
# Database (if using persistent storage beyond Redis)
# -----------------------------------------------------------------------------
# DATABASE_URL=postgresql://user:password@localhost:5432/restorations

# -----------------------------------------------------------------------------
# Email Configuration (for notifications)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# EMAIL_FROM=noreply@yourdomain.com

# -----------------------------------------------------------------------------
# Analytics & Metrics
# -----------------------------------------------------------------------------
# Google Analytics (optional)
# GA_TRACKING_ID=GA-XXXXXXXXX

# Custom metrics endpoint
# METRICS_ENDPOINT=https://your-analytics.com/api/metrics