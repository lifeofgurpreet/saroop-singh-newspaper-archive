<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}Malayan Athletic Archive</title>
    <meta name="description" content="Digital archive of Malayan athletic newspaper clippings from 1937-1954, featuring the sporting achievements of Saroop Singh and contemporaries.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23d97706'%3E%3Cpath d='M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z'/%3E%3C/svg%3E">
    
    <!-- CSS -->
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="main-header">
        <nav class="navbar">
            <div class="nav-brand">
                <a href="{{ '/' | relative_url }}" class="brand-link">
                    <i class="fas fa-newspaper"></i>
                    <span class="brand-text">Malayan Athletic Archive</span>
                </a>
            </div>
            
            <div class="nav-menu" id="navMenu">
                <a href="{{ '/' | relative_url }}" class="nav-link {% if page.url == '/' %}active{% endif %}">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="{{ '/timeline.html' | relative_url }}" class="nav-link {% if page.url contains 'timeline' %}active{% endif %}">
                    <i class="fas fa-clock"></i>
                    <span>Timeline</span>
                </a>
                <a href="{{ '/articles.html' | relative_url }}" class="nav-link {% if page.url contains 'articles' %}active{% endif %}">
                    <i class="fas fa-archive"></i>
                    <span>Articles</span>
                </a>
                <a href="#about" class="nav-link">
                    <i class="fas fa-info-circle"></i>
                    <span>About</span>
                </a>
            </div>
            
            <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <!-- Main Content Area -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <!-- Search Section -->
                <div class="search-section">
                    <h3><i class="fas fa-search"></i> Search Archive</h3>
                    <div class="search-form">
                        <div class="search-input-group">
                            <input type="text" id="searchInput" placeholder="Search articles, people, events..." class="search-input">
                            <button type="button" id="searchBtn" class="search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Filters Section -->
                <div class="filters-section">
                    <h3><i class="fas fa-filter"></i> Filters</h3>
                    
                    <!-- Date Range -->
                    <div class="filter-group">
                        <label for="dateRange">Date Range</label>
                        <div class="date-range-inputs">
                            <input type="number" id="startYear" min="1937" max="1957" placeholder="1937" class="year-input">
                            <span class="date-separator">to</span>
                            <input type="number" id="endYear" min="1937" max="1957" placeholder="1957" class="year-input">
                        </div>
                    </div>

                    <!-- Source Filter -->
                    <div class="filter-group">
                        <label for="sourceFilter">Newspaper Source</label>
                        <select id="sourceFilter" class="filter-select">
                            <option value="">All Sources</option>
                            <option value="Straits Times">The Straits Times</option>
                            <option value="Morning Tribune">Morning Tribune</option>
                            <option value="Singapore Free Press">Singapore Free Press</option>
                            <option value="Indian Daily Mail">Indian Daily Mail</option>
                            <option value="Pinang Gazette">Pinang Gazette & Straits Chronicle</option>
                            <option value="Singapore Standard">Singapore Standard</option>
                            <option value="Unknown">Unknown Source</option>
                        </select>
                    </div>

                    <!-- People Filter -->
                    <div class="filter-group">
                        <label for="peopleFilter">People Mentioned</label>
                        <select id="peopleFilter" class="filter-select">
                            <option value="">All People</option>
                            <option value="Saroop Singh">Saroop Singh</option>
                            <option value="M. Thomas">M. Thomas</option>
                            <option value="A. Theivendiran">A. Theivendiran</option>
                            <option value="Edgar de Silva">Edgar de Silva</option>
                            <option value="Henderson">Henderson</option>
                        </select>
                    </div>

                    <!-- Quick Filters -->
                    <div class="filter-group">
                        <label>Quick Filters</label>
                        <div class="quick-filters">
                            <button class="quick-filter-btn" data-filter="athletics">
                                <i class="fas fa-running"></i> Athletics
                            </button>
                            <button class="quick-filter-btn" data-filter="hockey">
                                <i class="fas fa-hockey-puck"></i> Hockey
                            </button>
                            <button class="quick-filter-btn" data-filter="records">
                                <i class="fas fa-trophy"></i> Records
                            </button>
                            <button class="quick-filter-btn" data-filter="cross-country">
                                <i class="fas fa-mountain"></i> Cross Country
                            </button>
                        </div>
                    </div>

                    <!-- Clear Filters -->
                    <button id="clearFilters" class="clear-filters-btn">
                        <i class="fas fa-times"></i> Clear All Filters
                    </button>
                </div>

                <!-- Archive Stats -->
                <div class="stats-section">
                    <h3><i class="fas fa-chart-bar"></i> Archive Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number" id="totalArticles">33</span>
                            <span class="stat-label">Articles</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">1937-1957</span>
                            <span class="stat-label">Years</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalSources">6</span>
                            <span class="stat-label">Sources</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalPeople">50+</span>
                            <span class="stat-label">People</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            {{ content }}
        </main>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>About This Archive</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="about-content">
                    <div class="about-section">
                        <h3>Project Overview</h3>
                        <p>This digital archive preserves newspaper clippings documenting athletic achievements in Malaya from 1937-1957. The collection focuses on track and field events, cross-country running, and other sports, with particular emphasis on the career of Saroop Singh and his contemporaries.</p>
                    </div>
                    
                    <div class="about-section">
                        <h3>Historical Context</h3>
                        <p>These clippings capture a significant period in Malayan sports history, documenting the achievements of local athletes during the colonial period and the early post-war years. They provide insight into the athletic culture and sporting competitions of the era.</p>
                    </div>

                    <div class="about-section">
                        <h3>Archive Features</h3>
                        <ul>
                            <li>Searchable collection of digitized newspaper clippings</li>
                            <li>Advanced filtering by date, source, and people mentioned</li>
                            <li>Interactive timeline visualization</li>
                            <li>High-resolution image viewing with zoom capability</li>
                            <li>Citation tools for researchers</li>
                        </ul>
                    </div>

                    <div class="about-section">
                        <h3>Technical Details</h3>
                        <p>This archive is built using modern web technologies to ensure accessibility and preservation. Each article includes detailed metadata and has been manually transcribed to maintain historical accuracy.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Lightbox -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <span class="lightbox-close">&times;</span>
            <img id="lightboxImage" src="" alt="">
            <div class="lightbox-controls">
                <button class="lightbox-btn" id="zoomIn"><i class="fas fa-search-plus"></i></button>
                <button class="lightbox-btn" id="zoomOut"><i class="fas fa-search-minus"></i></button>
                <button class="lightbox-btn" id="resetZoom"><i class="fas fa-expand"></i></button>
            </div>
            <div class="lightbox-info">
                <h4 id="lightboxTitle"></h4>
                <p id="lightboxSource"></p>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading archive...</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="{{ '/assets/js/archive.js' | relative_url }}"></script>
</body>
</html>